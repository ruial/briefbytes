<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
    <meta name="description" content="There is a huge amount of people that like to develop side projects. I mostly do it because I want to learn new things, but gaining some passive income is also an attractive idea. In the last months I">
<meta property="og:type" content="article">
<meta property="og:title" content="The architecture of a small side project">
<meta property="og:url" content="https://briefbytes.com/2022/The-architecture-of-a-small-side-project/index.html">
<meta property="og:site_name" content="BRIEF BYTES">
<meta property="og:description" content="There is a huge amount of people that like to develop side projects. I mostly do it because I want to learn new things, but gaining some passive income is also an attractive idea. In the last months I">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://briefbytes.com/2022/The-architecture-of-a-small-side-project/web-architecture.png">
<meta property="article:published_time" content="2022-01-05T21:05:00.000Z">
<meta property="article:modified_time" content="2022-05-11T20:46:56.837Z">
<meta property="article:author" content="Rui Almeida">
<meta property="article:tag" content="cloud">
<meta property="article:tag" content="architecture">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://briefbytes.com/2022/The-architecture-of-a-small-side-project/web-architecture.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/desktop.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/android.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple.png">
        
      
    
    
    <title>The architecture of a small side project</title>
    
    
<link rel="stylesheet" href="/css/style.css">

    
    
    
    
    
      <link rel="alternate" href="/atom.xml" title="BRIEF BYTES" type="application/atom+xml">
    
	
	
<meta name="generator" content="Hexo 6.1.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Writing</a></li><li><a target="_blank" rel="noopener" href="https://github.com/ruial">Projects</a></li><li><a href="/search/">Search</a></li><li><a href="/atom.xml">RSS</a></li>
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2022/Learning-to-rank-and-ML-pipelines/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2021/Building-a-full-text-search-engine/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none">Previous post</span>
      <span id="i-next" class="info" style="display:none">Next post</span>
      <span id="i-top" class="info" style="display:none">Back to top</span>
      <span id="i-share" class="info" style="display:none">Share post</span>
    </span>
    <br>
    <div id="share" style="display:none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/"><i class="fab fa-facebook" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&text=The architecture of a small side project"><i class="fab fa-twitter" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&is_video=false&description=The architecture of a small side project"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=The architecture of a small side project&body=Check out this article: https://briefbytes.com/2022/The-architecture-of-a-small-side-project/"><i class="fas fa-envelope" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-reddit" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-digg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&name=The architecture of a small side project&description="><i class="fab fa-tumblr" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&t=The architecture of a small side project"><i class="fab fa-hacker-news" aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Domain-registration-and-DNS"><span class="toc-number">1.</span> <span class="toc-text">Domain registration and DNS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hosting"><span class="toc-number">2.</span> <span class="toc-text">Hosting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Programming-language-and-frameworks"><span class="toc-number">3.</span> <span class="toc-text">Programming language and frameworks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Analytics-logging-and-monitoring"><span class="toc-number">4.</span> <span class="toc-text">Analytics, logging and monitoring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scaling-when-traction-is-gained"><span class="toc-number">5.</span> <span class="toc-text">Scaling when traction is gained</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        The architecture of a small side project
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Rui Almeida</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-01-05T21:05:00.000Z" itemprop="datePublished">2022-01-05</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/architecture/" rel="tag">architecture</a>, <a class="tag-link-link" href="/tags/cloud/" rel="tag">cloud</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>There is a huge amount of people that like to develop side projects. I mostly do it because I want to learn new things, but gaining some passive income is also an attractive idea. In the last months I launched <a target="_blank" rel="noopener" href="https://www.producthunt.com/posts/ad-pruner">Ad Pruner</a>, an OpenVPN and Pi-hole as a service, and I will describe different architecture and infrastructure alternatives.</p>
<h2 id="Domain-registration-and-DNS"><a href="#Domain-registration-and-DNS" class="headerlink" title="Domain registration and DNS"></a>Domain registration and DNS</h2><p>This is the only part of my setup that I had to pay. To have an online business, be able to receive&#x2F;send emails and maintain complete ownership of our content, a domain name is required, preferably .com. It’s one of the reasons why I publish this blog on my own domain instead of Medium. Regarding registration, my favorite providers are Namesilo and Namecheap. I prefer to keep registration decoupled of DNS and hosting providers (there are the occasional horror stories of accounts closed due to bad fraud detection and bad support). However, Cloudflare is the cheapest registrar and they also offer free CDN, DNS and DDoS protection, so I always tend to use their free tier and never had any issues.</p>
<h2 id="Hosting"><a href="#Hosting" class="headerlink" title="Hosting"></a>Hosting</h2><p>For small projects it doesn’t make sense to spend a lot on hosting infrastructure. As engineers we should try to balance costs and quality. Most of the time, a cheap VM with 512MB of RAM and a throttled vCPU will work fine for a couple of low traffic websites, a small database, cache and batch jobs.</p>
<p>There are plenty of cheap VM&#x2F;VPS under the 5$ range, like Amazon Lightsail, Vultr or Hetzner. However, we can go even cheaper with Oracle’s free cloud offer which includes 2 AMD VMs with 1GB RAM, up to 4 ARM VMs, 10GB object storage, a load balancer, multiple IPv4 addresses, among other things. It does sound too good to be true, but I’ve been using them for months without issues. GCP always free tier also includes 1 small VM in the US and other useful things.</p>
<p>To receive emails on your domain, the best free solution is Zoho Mail. ImprovMX is an alternative if you are only interested in forwarding. For sending bulk email I would use Sendgrid free tier.</p>
<h2 id="Programming-language-and-frameworks"><a href="#Programming-language-and-frameworks" class="headerlink" title="Programming language and frameworks"></a>Programming language and frameworks</h2><p>This is mostly personal opinion, people either tend to use what they are most familiar with or what they want to learn. For rapid development, Python and Django beat most alternatives out there. Developing a separate API and a JavaScript front end will always take longer. The downside of Python is that it will consume more computational resources than alternatives like Go or Node.js. I would recommend writing tests and using types, as they help maintenance of bigger projects. CI is easy and can be free nowadays with Github Actions. Deployments should also be automated with Ansible and Docker or similar.</p>
<h2 id="Analytics-logging-and-monitoring"><a href="#Analytics-logging-and-monitoring" class="headerlink" title="Analytics, logging and monitoring"></a>Analytics, logging and monitoring</h2><p>It is useful to keep track of the application behaviour without having to access the server. For analytics, the most common approach is to use a solution like Google Analytics or the open-source privacy oriented Plausible Analytics. You can also complement these with web server logs.</p>
<p>For metrics and log analytics, my favorite stack is Elasticsearch+Kibana and Prometheus+Grafana. However, it does not make sense to host these yourself until you grow to a certain size. Elasticsearch is particularly hungry for RAM. I had a good experience with Sematext free tier, which uses the Elastic stack, but opting for Grafana Cloud and Logz.io are also valid approaches. At scale, it is common to have agents like Filebeat to send application logs to Kafka as a buffer, to prevent overloading Elastic and doing additional processing in Logstash. To build status pages I’m using Freshping for HTTP and TCP checks, StatusCake is popular too.</p>
<h2 id="Scaling-when-traction-is-gained"><a href="#Scaling-when-traction-is-gained" class="headerlink" title="Scaling when traction is gained"></a>Scaling when traction is gained</h2><p>Your project is growing, your data is valuable and downtime is no longer acceptable, now what? At a small scale, configuring individual VMs with Ansible and Docker works well, you can also scale vertically to a certain point. The current state of the art for horizontal scaling and deployment of applications is Kubernetes. The managed cloud offers like AKS from Azure help reduce the cost of ownership by taking care of some operational tasks. It is also possible to host stateful databases in Kubernetes, but managed services are easier. Here’s a diagram of a common N-tier architecture:</p>
<img src="/2022/The-architecture-of-a-small-side-project/web-architecture.png" title="Web architecture">

<p>With a setup like this you can scale well, provided that your application is stateless. The decision of rolling your own or using external services should be considered carefully, to reduce operational burden and keep costs low. On a small scale, 1 or 2 cheap VMs and the free services I suggested will work fine for most projects, but having the knowledge of how to scale is always useful.</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display:none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/ruial">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display:none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Domain-registration-and-DNS"><span class="toc-number">1.</span> <span class="toc-text">Domain registration and DNS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hosting"><span class="toc-number">2.</span> <span class="toc-text">Hosting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Programming-language-and-frameworks"><span class="toc-number">3.</span> <span class="toc-text">Programming language and frameworks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Analytics-logging-and-monitoring"><span class="toc-number">4.</span> <span class="toc-text">Analytics, logging and monitoring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scaling-when-traction-is-gained"><span class="toc-number">5.</span> <span class="toc-text">Scaling when traction is gained</span></a></li></ol>
    </div>

    <div id="share-footer" style="display:none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&text=The architecture of a small side project"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&is_video=false&description=The architecture of a small side project"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=The architecture of a small side project&body=Check out this article: https://briefbytes.com/2022/The-architecture-of-a-small-side-project/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&title=The architecture of a small side project"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&name=The architecture of a small side project&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://briefbytes.com/2022/The-architecture-of-a-small-side-project/&t=The architecture of a small side project"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022
    Rui Almeida
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Writing</a></li><li><a target="_blank" rel="noopener" href="https://github.com/ruial">Projects</a></li><li><a href="/search/">Search</a></li><li><a href="/atom.xml">RSS</a></li>
      </ul>
    </nav>
  </div>
</footer>

    </div>
    



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload='this.onload=null,this.rel="stylesheet"'>


    
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 






  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">$(function(){$(".highlight table").before('<span class="btn-copy tooltipped tooltipped-sw" aria-label="Copy to clipboard!"><i class="far fa-clone"></i></span>'),new ClipboardJS(".btn-copy",{text:function(e){return Array.from(e.nextElementSibling.querySelectorAll(".code")).reduce((e,t)=>e+t.innerText+"\n","")}}).on("success",function(e){e.trigger.setAttribute("aria-label","Copied!"),e.clearSelection()})})</script>


<script src="/js/main.js"></script>





    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141298250-1"></script>
    <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-141298250-1")</script>









    <script type="text/javascript">var disqus_shortname="briefbytes";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script>



</body>
</html>
